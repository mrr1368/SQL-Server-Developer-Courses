# ๐ ุฌูุณู ูุฌุฏูู - Triggersุ System-Versioned Tablesุ Transactionsุ Isolation Levels ู Cursors ุฏุฑ SQL Server

ุฏุฑ ุงู ุฌูุณู ุจุง ุชฺฉูฺฉโูุง ูพุดุฑูุชูโุง ุจุฑุง ูุฏุฑุช ุชุบุฑุงุชุ ฺฉูุชุฑู ุชุฑุงฺฉูุดโูุงุ ูฺฏูุฏุงุฑ ุชุงุฑุฎฺู ุฏุงุฏูโูุง ู ูพุฑุฏุงุฒุด ุฑฺฉูุฑุฏ ุจู ุฑฺฉูุฑุฏ ุขุดูุง ูโุดูู. ุงู ุงุจุฒุงุฑูุง ุจู ูุง ฺฉูฺฉ ูโฺฉููุฏ ุชุง ุณุณุชูโูุง ุญุฑููโุงโุชุฑุ ููุงููโุชุฑ ู ูุงุจู ูพฺฏุฑโุชุฑ ุจุณุงุฒู.

---

## ๐บ๏ธ ุฎูุงุตูโ ุณุฑุน ฺุฒูุง ฺฉู ุฏุฑ ุงู ุฌูุณู ุงุฏ ูโฺฏุฑู

| Topic | Description |
|:---|:---|
| System-Versioned Temporal Tables | ุณุงุฎุช ุฌุฏุงูู ฺฉู ุชุบุฑุงุช ุชุงุฑุฎฺูโุง ุฑุง ุฎูุฏฺฉุงุฑ ุซุจุช ูโฺฉููุฏ |
| AFTER ู INSTEAD OF Triggers | ุซุจุช ุชุบุฑุงุช ู ฺฉูุชุฑู ุญุฐู ูุฑู (Soft Delete) |
| Transaction Handling | ูุฏุฑุช ุชุฑุงฺฉูุดโูุง ุจุง BEGIN, COMMIT, ROLLBACK ู ฺฉูุชุฑู ุฎุทุง ุจุง TRY...CATCH |
| Transaction Isolation Levels | ุงูุชุฎุงุจ ุณุทุญ ููุงุณุจ ุจุฑุง ฺฉูุชุฑู ูููโฺฏุฐุงุฑ ู ููุฒูุงู ุฏุงุฏูโูุง |
| Cursors | ูพุฑุฏุงุฒุด ุฑฺฉูุฑุฏ ุจู ุฑฺฉูุฑุฏ ุจุฑุง ฺฉุงุฑูุง ุฎุงุต ูุซู Backup ุฏุงูุงูฺฉ |
| Stored Procedures | ุณุงุฎุช SPูุง ฺฉุงุฑุจุฑุฏ ุจุฑุง ุนููุงุช ุฏุฑุฌุ ุจูโุฑูุฒุฑุณุงู ู ุจฺฉุงูพโฺฏุฑ |

---

## ๐๏ธ ฺุฒูุง ฺฉู ุฏุฑ ุงู ุฌูุณู ุงุฏ ูโฺฏุฑู

### ๐ฏ ฺฉุงุฑ ุจุง System-Versioned Temporal Tables

- ูุนุฑู ุฌุฏููโูุง ุฒูุงูโุจูุฏ ุดุฏู ุจุฑุง ูฺฏูุฏุงุฑ ุชุงุฑุฎฺู ุชุบุฑุงุช.

- ุจุงุฒุงุจ ุฏุงุฏูโูุง ูุจู ู ูุฏุฑุช ุญุงูุช versioning.

---

### ๐ฏ ูพุงุฏูโุณุงุฒ ุงููุงุน Triggers

- ุณุงุฎุช ุชุฑฺฏุฑูุง AFTER ุจุฑุง ุซุจุช ุชุบุฑุงุช ูพุณ ุงุฒ ุนููุงุช.

- ุณุงุฎุช ุชุฑฺฏุฑูุง INSTEAD OF ุจุฑุง ฺฉูุชุฑู ุฏูู ุนููุงุช ูุจู ุงุฒ ุงุฌุฑุง.

- ูุฏุฑุช Soft-Delete ู Cascade Triggers.

---

### ๐ฏ ูุฏุฑุช ุชุฑุงฺฉูุดโูุง ู ฺฉูุชุฑู ุฎุทุง

- ุดุฑูุนุ ุชุงุฏ ู ุจุงุฒฺฏุดุช ุชุฑุงฺฉูุดโูุง ุจุง BEGINุ COMMIT ู ROLLBACK.

- ุงุณุชูุงุฏู ุงุฒ TRY...CATCH ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฎุฑุงุจ ุดุฏู ุชุฑุงฺฉูุดโูุง.

- ุจุฑุฑุณ ุฎุทุง ุจุง @@ERROR ู ุงุณุชูุงุฏู ุงุฒ GOTO ุฏุฑ ุณูุงุฑููุง ุฎุงุต.

---

### ๐ฏ ุงูุชุฎุงุจ ุณุทุญ Isolation ููุงุณุจ

- ุจุฑุฑุณ ู ููุงุณู ุณุทูุญ ูุฎุชูู ุงุฒููุดู (READ UNCOMMITTEDุ REPEATABLE READุ SNAPSHOT ู ...).

- ุชุงุซุฑ ุงูุชุฎุงุจ ุฏุฑุณุช ุฑู ุณุฑุนุช ู ุตุญุช ุฏุงุฏูโูุง.

---

### ๐ฏ ุงุณุชูุงุฏู ุงุฒ Cursors ุฏุฑ ูพุฑุฏุงุฒุดโูุง ุฎุงุต

- ุณุงุฎุช Cursorูุง ุณุงุฏู ุจุฑุง ูพุฑุฏุงุฒุด ุฑฺฉูุฑุฏ ุจู ุฑฺฉูุฑุฏ.

- ูุซุงูโูุง ูุงูุน ุจุฑุง Backup ุฏุงูุงูฺฉ ุฏุชุงุจุณโูุง.

---

### ๐ฏ ุณุงุฎุช Stored Procedures ุญุฑููโุง

- ุงุฌุงุฏ Stored Procedureูุง ุฏุฑุฌ ู ุจูโุฑูุฒุฑุณุงู ุจุง ฺฉูุชุฑู ุฎุทุง.

- ุงุฌุฑุง Backup ุงุฒ ฺูุฏ ุฏุชุงุจุณ ุจู ุตูุฑุช ุฏุงูุงูฺฉ.

---

## ๐ ุฏุฑุจุงุฑู ุงู ุฌูุณู

ุฏุฑ ุงู ุฌูุณู ุชูุฑู ูโฺฉูู:
- ฺุทูุฑ ุฏุงุฏูโูุง ุชุบุฑ ุงูุชู ุฑุง ุจุง ุชุงุฑุฎฺู ฺฉุงูู ูฺฏูุฏุงุฑ ฺฉูู.
- ฺุทูุฑ ุชุบุฑุงุช ุฑุง ุจุง ุชุฑฺฏุฑูุง ุจู ุฏุฑุณุช ูุฏุฑุช ฺฉูู.
- ฺุทูุฑ ุชุฑุงฺฉูุดโูุง ุงูู ู ฺฉูุชุฑู ุดุฏู ุทุฑุงุญ ฺฉูู.
- ฺุทูุฑ ุนููุงุชโูุง ุฑฺฉูุฑุฏ ุจู ุฑฺฉูุฑุฏ ุฑุง ุจุง Cursors ุงูุฌุงู ุฏูู.
- ฺุทูุฑ Stored Procedureูุง ุญุฑููโุง ุจููุณู.

ุชูุงู ุชูุฑูโูุง ุฑู ุฏุชุงุจุณ **T_pubs** ุงูุฌุงู ุดุฏูโุงูุฏ.

---

## ๐ ูุงู ููุฌูุฏ

- `Session 18.sql`: ุดุงูู ูููููโูุง ฺฉุงูู ุงุฒ System-Versioned Tablesุ Triggersุ ุชุฑุงฺฉูุดโูุงุ Isolation Levelsุ Cursors ู Stored Procedures.

---

## โก ูฺฉุงุช ููู

- ุชุฑฺฏุฑูุง ุจุงุฏ ุจุง ุฏูุช ููุดุชู ุดููุฏ ุชุง ุงุฒ ูุดฺฉูุงุช ฺฉุงุฑุง ู ุญูููโูุง ุจโููุงุช ุฌููฺฏุฑ ุดูุฏ.
- System-Versioned Tables ุจุฑุง ุจุฑุฑุณ ุชุบุฑุงุช ุชุงุฑุฎ ุนุงู ูุณุชูุฏ.
- ุงูุชุฎุงุจ ุฏุฑุณุช ุณุทุญ ุงุฒููุดู ููุด ููู ุฏุฑ ุณุฑุนุช ู ุฏุฑุณุช ฺฉูุฆุฑโูุง ุฏุงุฑุฏ.
- Cursors ุจุงุฏ ููุท ุฏุฑ ููุงูุน ุถุฑูุฑ ุงุณุชูุงุฏู ุดููุฏ ู ุฏุฑ ุญุงูุช ุนุงุฏ ุจูุชุฑ ุงุณุช ุงุฒ ุนููุงุชโูุง ุฏุณุชูโุง (Set-based) ุงุณุชูุงุฏู ุดูุฏ.

---

> โจ ุงู ุฌูุณู ูพุงูโุง ูู ุจุฑุง ุณุงุฎุช ุณุณุชูโูุง ุญุฑููโุง ู ููุงูู ุฏุฑ ุจุฑุงุจุฑ ุฎุทุง ุฏุฑ SQL Server ุงุฌุงุฏ ูโฺฉูุฏ.

