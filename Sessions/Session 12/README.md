# ๐ ุฌูุณู ุฏูุงุฒุฏูู - ุชูุงุจุน ูพุดุฑูุชู ูพูุฌุฑูโุง (Advanced Window Functions)

ุฏุฑ ุงู ุฌูุณู ุงุฏ ูโฺฏุฑู ฺุทูุฑ ุงุฒ ุชูุงุจุน ูพูุฌุฑูโุง ูพุดุฑูุชู ุฏุฑ SQL Server ุงุณุชูุงุฏู ฺฉูู. ุงู ุชูุงุจุน ุจู ูุง ฺฉูฺฉ ูโฺฉููุฏ ุชุง ุจุฏูู ุฎูุงุตู ฺฉุฑุฏู ุฏุงุฏูโูุงุ ูุญุงุณุจุงุช ุฏูู ุฑู ูุฑ ุฑุฏู ุงูุฌุงู ุจุฏูู ู ุชุญููโูุง ูพุดุฑูุชูโุชุฑ ุงูุฌุงู ุฏูู.

ุงู ูุจุงุญุซ ุจุฑุง ุณุงุฎุช ฺฏุฒุงุฑุดโูุง ุญุฑููโุงุ ุชุญูู ุฑููุฏ ุชุบุฑุงุช ุฏุงุฏู ู ูุฏุฑุช ุจูุชุฑ ุฏุงุฏูโูุง ุญุฌู ุจุณุงุฑ ฺฉุงุฑุจุฑุฏ ูุณุชูุฏ.

---

## ๐๏ธ ฺุฒูุง ฺฉู ุฏุฑ ุงู ุฌูุณู ุงุฏ ูโฺฏุฑู

### ๐ฏ ุชูุงุจุน ุดูุงุฑูโฺฏุฐุงุฑ ู ุฑุชุจูโุจูุฏ (Row Numbering and Ranking)

| ุฏุณุชูุฑ | ุชูุถุญ |
|:---|:---|
| `ROW_NUMBER()` | ุดูุงุฑูโฺฏุฐุงุฑ ุฑุฏูโูุง ุจู ุชุฑุชุจ ุฎุงุต |
| `RANK()` | ุฑุชุจูโุจูุฏ ุฑุฏูโูุง ุจุง ุฏุฑูุธุฑ ฺฏุฑูุชู ุฑฺฉูุฑุฏูุง ุชฺฉุฑุงุฑ |
| `DENSE_RANK()` | ุฑุชุจูโุจูุฏ ุจุฏูู ุงุฌุงุฏ ูุงุตูู ุจู ุฑุชุจูโูุง |
| `NTILE()` | ุชูุณู ุฑฺฉูุฑุฏูุง ุจู ฺฏุฑููโูุง ูุณุงู |

### ๐ฏ ุชูุงุจุน ููุงุณู ููุงุฏุฑ (Comparing Rows)

| ุฏุณุชูุฑ | ุชูุถุญ |
|:---|:---|
| `LAG()` | ุฏุณุชุฑุณ ุจู ููุฏุงุฑ ูุจู ฺฉ ุฑุฏู |
| `LEAD()` | ุฏุณุชุฑุณ ุจู ููุฏุงุฑ ุจุนุฏ ฺฉ ุฑุฏู |

### ๐ฏ ุชูุงุจุน ุชุฌูุน ุจุง ูพูุฌุฑู (Aggregation with Window)

| ุฏุณุชูุฑ | ุชูุถุญ |
|:---|:---|
| `SUM() OVER()` | ูุญุงุณุจู ูุฌููุน ููุงุฏุฑ ุจุฏูู ุฎูุงุตู ฺฉุฑุฏู ุฏุงุฏูโูุง |
| `AVG() OVER()` | ูุญุงุณุจู ูุงูฺฏู ููุงุฏุฑ ุจุฏูู ุฎูุงุตู ฺฉุฑุฏู ุฏุงุฏูโูุง |

### ๐ฏ ููุงูู ูพุดุฑูุชู ูพูุฌุฑูโุง

| ููุถูุน | ุชูุถุญ |
|:---|:---|
| `PARTITION BY` ุฏุฑ ุชูุงุจุน ูพูุฌุฑูโุง | ุชูุณู ุฏุงุฏูโูุง ุจู ฺฏุฑููโูุง ุฏุงุฎู ูุจู ุงุฒ ูุญุงุณุจู |
| Frame Definitions | ุชุนู ุจุงุฒู ูุญุงุณุจุงุช ุจุง `ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW` |
| Window Definitions | ุชุนุฑู ูพูุฌุฑูโูุง ุชฺฉุฑุงุฑ ุจุง `WINDOW w AS (...)` |
| `SEQUENCE` | ุชููุฏ ุดูุงุณูโูุง ุชุฑุชุจ ุฌุฏุฏ ุฏุฑ ุฏุชุงุจุณ |

---

## ๐ ุฏุฑุจุงุฑู ุงู ุฌูุณู

ุฏุฑ ุงู ุฌูุณู ุชูุฑู ูโฺฉูู:
- ฺุทูุฑ ุจุฑุง ูุฑ ุฑุฏู ุดูุงุฑู ุง ุฑุชุจู ูุดุฎุต ฺฉูู.
- ฺุทูุฑ ููุฏุงุฑ ูุจู ุง ุจุนุฏ ุฑุง ุฏุฑ ุฏุงุฏูโูุง ููุงุณู ฺฉูู.
- ฺุทูุฑ ูุฌููุน ุง ูุงูฺฏู ููุงุฏุฑ ุฑุง ุฑู ฺฏุฑููโูุง ุฎุงุต ูุญุงุณุจู ฺฉูู.
- ฺุทูุฑ ูพูุฌุฑูโูุง ุงุฎุชุตุงุต ุจุฑุง ูุญุงุณุจุงุช ุฎูุฏ ุชุนุฑู ฺฉูู.
- ฺุทูุฑ ุดูุงุณูโูุง ุชุฑุชุจ ุงุฌุงุฏ ฺฉูู.

ูุซุงูโูุง ุฑู ุฏุชุงุจุณโูุง **pubs** ู **AdventureWorks2022** ุงูุฌุงู ุดุฏู ุชุง ุงุฏฺฏุฑ ุขุณุงูโุชุฑ ุดูุฏ.

---

## ๐ ูุงู ููุฌูุฏ

- `Session 12.sql`: ุดุงูู ูููููโูุง ูุงูุน ุงุฒ ฺฉุงุฑ ุจุง ุชูุงุจุน ูพุดุฑูุชู ูพูุฌุฑูโุง ู ุชุญููโูุง ุฏุงุฏู.

---

## โก ูฺฉุงุช ููู

- ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ูพูุฌุฑูโุง ุจุงุนุซ ูโุดูุฏ ูุญุงุณุจุงุช ุฏููโุชุฑ ุฑู ุฏุงุฏูโูุง ุงูุฌุงู ุดูุฏ ุจุฏูู ุงูฺฉู ุฏุงุฏูโูุง ุฎูุงุตู ุดููุฏ.
- `LAG()` ู `LEAD()` ุจุฑุง ุชุญูู ุฑููุฏ ุชุบุฑุงุช ุฏุงุฏูโูุง ุจุณุงุฑ ููุฏ ูุณุชูุฏ.
- ุงุณุชูุงุฏู ุงุฒ Frameูุง ุฏุฑ ูุญุงุณุจุงุช ูโุชูุงูุฏ ุฑู ุฏูุช ู ุณุฑุนุช ูุชุงุฌ ุชุงุซุฑ ุฒุงุฏ ุฏุงุดุชู ุจุงุดุฏ.
- ุชุนุฑู ุฏุฑุณุช Windowูุง ู ูุฏุฑุช ุจููู ุขูโูุง ุจุงุนุซ ุจูุจูุฏ ุฎูุงูุง ู ฺฉุงุฑุง ฺฉูุฆุฑโูุง ูโุดูุฏ.

---

> โจ ุงู ุฌูุณู ูุฏู ุจุฒุฑฺฏ ุจู ุณู ุชุญููโูุง ุญุฑููโุงโุชุฑ ุจุง SQL Server ุงุณุช ู ููุงุฑุชโูุง ฺฉู ุงุฏ ูโฺฏุฑุฏ ุฏุฑ ูพุฑูฺูโูุง ุฌุฏ ู ุณุงุฒูุงู ุจุณุงุฑ ฺฉุงุฑุจุฑุฏ ุฎูุงููุฏ ุจูุฏ.

