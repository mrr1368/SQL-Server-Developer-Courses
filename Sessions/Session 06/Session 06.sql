/*
    ==========================================================
    جلسه ۶: دستورات DML (Data Manipulation Language)
    ==========================================================
    
    در این جلسه، با دستورات DML آشنا می‌شویم که برای کار با داده‌ها در SQL استفاده می‌شود.
    دستورات DML به شما امکان می‌دهند که داده‌ها را در دیتابیس انتخاب، به‌روزرسانی، حذف یا درج کنید.
    
    این مثال‌ها از دیتابیس آموزشی **Pubs** گرفته شده است که در آن جداولی مانند `titles`, `authors`, و `titleauthor` وجود دارند.

    مفاهیم یادگیری شده:
    1. SELECT - انتخاب داده‌ها
    2. DISTINCT - انتخاب مقادیر یکتا
    3. ORDER BY - ترتیب‌دهی داده‌ها
    4. TOP - محدود کردن تعداد نتایج
    5. WHERE - فیلتر کردن داده‌ها
    6. AND / OR - ترکیب شرایط
    7. IN / BETWEEN / LIKE - مقایسه داده‌ها
    8. NULL - فیلتر بر اساس مقادیر NULL
    9. **NOT** - استفاده از `NOT` برای معکوس کردن شرایط
    ==========================================================
*/



/* =======================================
   1. انتخاب تمام داده‌ها از جدول titles
   ======================================= */

SELECT * 
FROM titles;


/* =======================================
   2. انتخاب ستون‌های خاص از جدول titles
   ======================================= */

SELECT title_id, title, type, price 
FROM titles;


/* ===========================================
   3. انتخاب داده‌ها از جدول authors
   =========================================== */

SELECT au_id, au_fname, au_lname
FROM authors;


/* ===========================================
   4. انتخاب داده‌ها از جدول titles و ترتیب‌دهی آن‌ها بر اساس ستون title
   =========================================== */

SELECT title_id, title, type, price 
FROM titles
ORDER BY title;


/* ===========================================
   5. انتخاب داده‌ها از جدول titles و ترتیب‌دهی آن‌ها بر اساس قیمت به ترتیب صعودی
   =========================================== */

SELECT title_id, title, type, price 
FROM titles
ORDER BY price;


/* ===========================================
   6. انتخاب داده‌ها از جدول titles و ترتیب‌دهی آن‌ها بر اساس قیمت به ترتیب نزولی
   =========================================== */

SELECT title_id, title, type, price 
FROM titles
ORDER BY price DESC;


/* ===========================================
   7. انتخاب داده‌ها از جدول titles و ترتیب‌دهی آن‌ها بر اساس نوع و قیمت به صورت نزولی
   =========================================== */

SELECT title_id, title, type, price 
FROM titles
ORDER BY type, price DESC;


/* ===========================================
   8. انتخاب داده‌ها از جدول titles و ترتیب‌دهی آن‌ها بر اساس نوع و قیمت به صورت نزولی (دوباره)
   =========================================== */

SELECT title_id, title, type, price 
FROM titles
ORDER BY type, price DESC;


/* ===========================================
   9. انتخاب ۱۰ رکورد اول از جدول titles
   =========================================== */

SELECT TOP 10 title_id, title, type, price 
FROM titles;


/* ===========================================
   10. انتخاب رکورد با بالاترین قیمت از جدول titles
   =========================================== */

SELECT TOP 1 title_id, title, type, price 
FROM titles
ORDER BY price DESC;


/* ===========================================
   11. انتخاب ۳۰ درصد اول از جدول titles
   =========================================== */

SELECT TOP 30 PERCENT title_id, title, type, price 
FROM titles;

SELECT title_id , title , type , price 
	FROM titles
	ORDER BY NEWID()


/* =======================================
   12. انتخاب ۳۰ درصد اول از جدول titles به طور تصادفی
   ======================================= */

SELECT TOP 30 PERCENT title_id, title, type, price 
FROM titles
ORDER BY NEWID();


/* =======================================
   13. انتخاب نوع‌های یکتا از جدول titles
   ======================================= */

SELECT DISTINCT type
FROM titles;


/* =======================================
   14. انتخاب تمام داده‌ها از جدول titleauthor
   ======================================= */

SELECT *
FROM titleauthor;


/* =======================================
   15. انتخاب تمام داده‌ها از جدول authors
   ======================================= */

SELECT *
FROM authors;


/* =======================================
   16. انتخاب شناسه‌های یکتا از جدول titleauthor
   ======================================= */

SELECT DISTINCT au_id
FROM titleauthor;


/* =======================================
   17. انتخاب ۶ رکورد اول از جدول titles بر اساس قیمت به ترتیب نزولی
   ======================================= */

SELECT TOP 6 price
FROM titles
ORDER BY price DESC;


/* =======================================
   18. انتخاب داده‌ها از جدول titles بدون فیلتر خاص
   ======================================= */

SELECT title_id, title, type, price 
FROM titles;





/* =======================================
   19. انتخاب داده‌ها از جدول titles با قیمت بیشتر از ۱۰
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE price > 10 
ORDER BY 4 DESC;


/* =======================================
   20. انتخاب داده‌ها از جدول titles با شرایط قیمت بیشتر از ۱۰ و ۱۵
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE price > 10 AND price > 15 
ORDER BY 4 DESC;


/* =======================================
   21. انتخاب داده‌ها از جدول titles با نوع `business`
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE type = 'business';


/* =======================================
   22. انتخاب داده‌ها از جدول titles با نوع `mod_cook` یا `trade_cook`
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE type = 'mod_cook' OR type = 'trade_cook';

/* =======================================
   23. انتخاب داده‌ها از جدول titles با نوع‌های `mod_cook` یا `trade_cook`
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE type IN ('mod_cook', 'trade_cook');


/* =======================================
   24. انتخاب داده‌ها از جدول titles با قیمت بین ۱۰ و ۱۵ و ترتیب‌دهی بر اساس قیمت به ترتیب نزولی
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE price BETWEEN 10 AND 15
ORDER BY 4 DESC;


/* =======================================
   25. انتخاب داده‌ها از جدول titles با نوع‌هایی که به "cook" ختم می‌شوند
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE type LIKE '%cook';


/* =======================================
   26. انتخاب داده‌ها از جدول titles که عنوان آن‌ها با "the" شروع می‌شود
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE title LIKE 'the%';


/* =======================================
   27. انتخاب داده‌ها از جدول titles که نوع آن‌ها شامل "the" باشد
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE type LIKE '%the%';


/* =======================================
   28. انتخاب داده‌ها از جدول authors که در ایالت `CA` قرار دارند
   ======================================= */

SELECT * 
FROM authors
WHERE state = 'CA';


/* =======================================
   29. انتخاب داده‌ها از جدول titles که قیمت آن‌ها بین ۱۰ و ۱۵ نباشد
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE price NOT BETWEEN 10 AND 15
ORDER BY 4 DESC;


/* =======================================
   30. انتخاب داده‌ها از جدول titles که قیمت آن‌ها کمتر از ۱۰ یا بیشتر از ۱۵ باشد
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE price < 10 OR price > 15
ORDER BY 4 DESC;


/* =======================================
   31. انتخاب داده‌ها از جدول titles که نوع آن‌ها `mod_cook` و `trade_cook` نباشد
   ======================================= */

SELECT title_id, title, type, price 
FROM titles
WHERE type NOT IN ('mod_cook', 'trade_cook');


/* =======================================
   32. انتخاب داده‌ها از جدول titles که قیمت آن‌ها NULL است
   ======================================= */

SELECT * 
FROM titles
WHERE price IS NULL;


/* =======================================
   33. انتخاب داده‌ها از جدول titles که قیمت آن‌ها NULL نیست
   ======================================= */

SELECT * 
FROM titles
WHERE price IS NOT NULL;
